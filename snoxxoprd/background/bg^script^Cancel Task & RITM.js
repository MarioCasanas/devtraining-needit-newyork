var ritm = 'numberINRITM0010742,RITM0017320,RITM0021484,RITM0024260,RITM0028171,RITM0029868,RITM0029877,RITM0029879,RITM0029886,RITM0029895,RITM0029915,RITM0029923,RITM0029933,RITM0029935,RITM0029939,RITM0030305,RITM0031507,RITM0031914,RITM0035583,RITM0036498,RITM0037030,RITM0037050,RITM0038445,RITM0039090,RITM0039422,RITM0041102,RITM0041121,RITM0041128,RITM0041175,RITM0041182,RITM0041205,RITM0041215,RITM0046889,RITM0051294,RITM0063211,RITM0065782,RITM0065783,RITM0065785,RITM0068599,RITM0089133,RITM0097985,RITM0097993,RITM0105300,RITM0105335,RITM0105359,RITM0105439,RITM0105441,RITM0105443,RITM0105444,RITM0105471,RITM0105673,RITM0111798,RITM0111961,RITM0116608,RITM0116610,RITM0116618,RITM0116621,RITM0116623,RITM0116626,RITM0116628,RITM0117926,RITM0120194,RITM0120199,RITM0120206,RITM0122355,RITM0122527,RITM0122531,RITM0122659,RITM0122660,RITM0122661,RITM0122662,RITM0122663,RITM0122664,RITM0122666,RITM0122667,RITM0122668,RITM0122670,RITM0122671,RITM0122672,RITM0122673,RITM0122674,RITM0122675,RITM0122676,RITM0122678,RITM0122679,RITM0122680,RITM0122681,RITM0122682,RITM0122683,RITM0124230,RITM0124240,RITM0124271,RITM0126584,RITM0126633,RITM0126651,RITM0126724,RITM0126851,RITM0126864,RITM0126870,RITM0126882,RITM0126960,RITM0126965,RITM0128593,RITM0128601,RITM0128603,RITM0128604,RITM0128606,RITM0128612,RITM0128651,RITM0128677,RITM0128687,RITM0128701,RITM0128704,RITM0128712,RITM0128714,RITM0128715,RITM0128718,RITM0128723,RITM0128724,RITM0128726,RITM0128727,RITM0128729,RITM0128784,RITM0128787,RITM0128828,RITM0128831,RITM0128832,RITM0128834,RITM0128835,RITM0128837,RITM0128840,RITM0128842,RITM0128843,RITM0128844,RITM0128845,RITM0128847,RITM0128850,RITM0128852,RITM0128853,RITM0128855,RITM0128857,RITM0128858,RITM0128859,RITM0128860,RITM0128861,RITM0128879,RITM0130167,RITM0130186,RITM0130214,RITM0130871,RITM0131071,RITM0131075,RITM0134423,RITM0134911,RITM0134912,RITM0135258,RITM0136014,RITM0136301,RITM0137450,RITM0138782,RITM0138869,RITM0138873,RITM0138907,RITM0139937,RITM0140170,RITM0140183,RITM0140185,RITM0140187,RITM0140188,RITM0140189,RITM0140190,RITM0140191,RITM0140192,RITM0140193,RITM0140195,RITM0140196,RITM0140197,RITM0140198,RITM0140199,RITM0140259,RITM0140261,RITM0140263,RITM0140264,RITM0140921,RITM0142751,RITM0145730,RITM0145792,RITM0146105,RITM0146107,RITM0146114,RITM0146372,RITM0146444,RITM0146457,RITM0146458,RITM0146462,RITM0146480,RITM0146481,RITM0152314,RITM0152711,RITM0152784,RITM0153117,RITM0153132,RITM0154818,RITM0155455,^state!=7';

var ch = new GlideRecord('sc_req_item');
ch.addEncodedQuery(ritm);
ch.query();

gs.info('Ritms a CANCELAR: '+ch.getRowCount());

while (ch.next()) {
    
    gs.info(ch.number);
    gs.info('----------------------------------------------------');

    var task = new GlideRecord('sc_task');
        task.addQuery('request_item','=', ch.sys_id);
        task.query();
        

        while (task.next()) {
            gs.info('Cancel Tarea: '+ task.number + ' del RITM: '+ch.number);

            task.state = '7'; //Cancel
            task.update();
        }

    gs.info('----------------------------------------------------');
    gs.info('Cancel RITM: '+ch.number);
    
    ch.setWorkflow(false);//Ignoro las Business Rule para que Cancele los RITM sin Categor√≠as
    ch.state = '7'; //Cancel
    ch.update();
}
